<!DOCTYPE html>

<html lang ="en">
	<head>
		<title>Tic-Tac-Toe</title>
		
		<link rel="stylesheet" href="css/style.css">
	
		<script>

		//This will start the game, clear boxes in all squares, both X and O gets an equal chance to start thegame, winner is at null, and a message will flash to state such

		function startGame() {

			for (var i = 1; i <= 9; i++) {
				clearBox(i);
			}	
		  	
		  	document.turn = "X";
		  	
		  	if (Math.random() < 0.5) {
		  	document.turn = "O";
		  	}
		  	
		  	document.winner = null;
		  	
		  	setMessage(document.turn + " gets to start.");
			}

		//Sets message in gameboard

		function setMessage(msg) {
		  	document.getElementById("message").innerText = msg;
		}

		// Gives three options in the next move: if there is  a winner, a message that that player has already won the game will be given; if not game goes on and goes to switch turn; otherwise, player will not be allowed to continue clicking on preferred square that is already used, the same message appears
		function nextMove(square) {
			if (document.winner != null) {
				setMessage(document.winner + " already won the game.");
			
			} else if (square.innerText == "") {	
		  		square.innerText = document.turn;
		  		switchTurn();
		  	
		  	} else {
		  		setMessage("That square is already used.");
			}
		}

		//Gives three options while games is still on going: Winner is declared and message is printed on game board; IF NOT it's X's tunr; otherwise it's O's turn
		function switchTurn() {

			if (checkForWinner(document.turn)) {
				setMessage("Congratulations, " + document.turn + "! You are the victor!");
				document.winner = document.turn;
			} else if (document.turn == "X") {
				document.turn = "O";
				setMessage("It's " + document.turn + "'s turn!");
			} else {
				document.turn = "X";
				setMessage("It's " + document.turn + "'s turn!");		
			}
		}	

		//This checks all possible winning combinations, checks it using checkRow function

		function checkForWinner(move) {
			var result = false;

			if (checkRow(1, 2, 3, move) || 
				checkRow(4, 5, 6, move) || 
				checkRow(7, 8, 9, move) || 
				checkRow(1, 4, 7, move) || 
				checkRow(2, 5, 8, move) || 
				checkRow(3, 6, 9, move) ||
				checkRow(1, 5, 9, move) || 
				checkRow(3, 5, 7, move)) {
					
				result = true;
			}
			return result;

		}
		
		//This checks if the player has made a winninc combination, thta is three in a row
		function checkRow(a, b, c, move) {
			var result = false;
			if (getBox(a) == move && getBox(b) == move && getBox(c) == move){
				result = true;
			}
			return result;

		}

		//Gets box 
		function getBox(number) {
			return document.getElementById("square" + number).innerText;
		}

		//Clears box
		function clearBox(number) {
			document.getElementById("square" + number).innerText = "";
		}

		</script>

	</head>
	
	<body onload="startGame();">
		
		<div id="container">
			<header>
				<h1>Tic-Tac-Toe</h1>
			</header>

			<div id="message">The messages will go here.</div>
			
			<ul id="gameboard">
				<li class= "square" id="square1" onclick="nextMove(this);"></li>
				<li class= "square" id="square2" onclick="nextMove(this);"></li>
				<li class= "square" id="square3" onclick="nextMove(this);"></li>
				<li class= "square" id="square4" onclick="nextMove(this);"></li>
				<li class= "square" id="square5" onclick="nextMove(this);"></li>
				<li class= "square" id="square6" onclick="nextMove(this);"></li>
				<li class= "square" id="square7" onclick="nextMove(this);"></li>
				<li class= "square" id="square8" onclick="nextMove(this);"></li>
				<li class= "square" id="square9" onclick="nextMove(this);"></li>
			</ul>
			<div class ="clearfix"> </div>

			<footer class="button" id="reset"> <a href="javascript:startGame();">Clear the Board</a></footer>
		
		</div>			
	</body>
</html>


<!-- Good to have: Display a message to indicate which turn is about to be played
After the necessary moves have been played, stop the game and alert the winner if one player ends up winning with three in a row -->